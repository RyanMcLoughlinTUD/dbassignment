drop table supplierdeliveries;
drop table pcspecs;
drop table custpc;
drop table stock;



--custpc table
CREATE TABLE custpc (
    custid         serial primary key,
    custname       varchar(255) NOT NULL,
    completestatus CHAR(1) NOT NULL,
    custaddress    varchar(255) NOT NULL,
    orderdate      DATE NOT NULL
);

--stock table
CREATE TABLE stock (
    stockid           serial primary key,
    stocktype         VARCHAR(255) NOT NULL,
    stockmanufacturer VARCHAR(255) NOT NULL,
    stockamount       int NOT NULL
);

--relies on stock
CREATE TABLE supplierdeliveries (
    supplierid      serial primary key,
    supplieraddress varchar(255) NOT NULL,
    supplierphone   varchar(10) NOT NULL,
    stock_stockid   int NOT NULL REFERENCES stock( stockid )
);

--relies on custpc and stock
CREATE TABLE pcspecs (
    custpc_custid int NOT NULL REFERENCES custpc( custid ),
    stock_stockid int NOT NULL REFERENCES stock( stockid ),
    NoUsed        int NOT NULL
);


grant usage on schema "Cust857B" to "C21359216";
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA "Cust857B" TO "C21359216";
grant usage, select on sequence stock_stockid_seq to "C21359216";
grant usage, select on sequence custpc_custid_seq to "C21359216";
grant usage, select on sequence supplierdeliveries_supplierid_seq to "C21359216";